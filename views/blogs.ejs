<%- include('head') %>
<div class="container-fluid m-0 p-0">
  <img
    src="image/blogs1.png"
    class="img-fluid"
    alt="blogs"
    style="border-radius: 0px 0px 50px 50px"
  />
  <!-- <div class="input-group mt-4 container mb-4">
    <input
      id="searchInput"
      type="text"
      class="form-control mb-0 shadow-none"
      aria-label="search"
    />
    <span
      id="searchIcon"
      class="input-group-text text-white"
      style="background: #002f26; border: 2px solid #002f26; cursor: pointer"
    >
      <i class="fa-solid fa-magnifying-glass"></i>
    </span>
    <span
      id="searchButton"
      class="input-group-text rounded-start rounded-pill text-white"
      style="background: #002f26; border: 2px solid #002f26; cursor: pointer"
    >
      Search
    </span>
  </div> -->

  <div class="border border-2 m-2">
    <div class="d-flex justify-content-end px-3 m-1">
      <h6>Page <%= currentPage %> / <%= totalPages %></h6>
    </div>

    <% blogs.forEach((blog) => { %>

    <div
      class="d-flex col-12 p-1 flex-column flex-md-row justify-content-evenly my-5"
    >
      <div
        class="col-12 col-md-3 d-flex align-content-center justify-content-center"
      >
        <img
          src="<%= blog.image %>"
          class="border border-1 img-fluid"
          alt="image"
        />
      </div>
      <div class="mx-2 border border-1 p-2 col-12 col-md-8">
        <h2 class="my-3"><%= blog.title %></h2>
        <p><%= blog.content %></p>
        <div class="d-flex justify-content-between">
          <div>
            <p style="color: #002f26">
              Published on:
              <span style="color: #f7931e"
                ><%= blog.createdAt.toDateString() %></span
              >
            </p>
            <p style="color: #002f26">
              Publisher Name:
              <span style="color: #f7931e"> <%= blog.author %> </span>
            </p>
            <a href="/blog/<%= blog._id %>"><p>Read More</p></a>
          </div>
        </div>
      </div>
    </div>

    <% }) %>

    <div class="d-flex justify-content-between p-3">
      <span>
        <% for(let i = 1; i <= totalPages; i++) { %>
        <a href="/blogs?page=<%= i %>" class="text-decoration-none text-dark"
          ><%= i %></a
        >
        | <% } %>
      </span>
      <span>
        <% if (currentPage > 1) { %>
        <a
          href="/blogs?page=<%= currentPage - 1 %>"
          class="text-decoration-none text-dark"
          >Previous</a
        >
        | <% } %> <% if (currentPage < totalPages) { %>
        <a
          href="/blogs?page=<%= currentPage + 1 %>"
          class="text-decoration-none text-dark"
          >Next</a
        >
        | <% } %>
        <a
          href="/blogs?page=<%= totalPages %>"
          class="text-decoration-none text-dark"
          >Last</a
        >
      </span>
    </div>
  </div>
</div>

<%- include('foot') %>
